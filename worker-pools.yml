# This file contains definitions for the worker pools related to Firefox CI.
#
# Each worker pool is named by its <provisionerId>/<workerType> pair, each with
# the following structure (matching that for taskcluster-worker-manager):
#
# - `description` -- description of this workerType
# - `owner` -- owner of this workerType
# - `email_on_error` -- if true, email the owner on provisioning errors
# - `provider_id` -- the worker-manager provider for this worker pool
# - `config` -- the configuration for this worker pool, specific to the provider type
#
# A top-level `image` property in the config will be interpreted by ci-admin and
# translated into a region[..].launchSpec.ImageId value based on worker-pools.yml.
---
worker-defaults:
    worker-config:
        by-implementation:
            docker-worker:
                shutdown:
                    enabled: true
                    afterIdleSeconds: 900
            generic-worker/windows:
                genericWorker:
                    config:
                       "idleTimeoutSecs": 90
                       "cachesDir": "Z:\\caches"
                       "cleanUpTaskDirs": true
                       "deploymentId": "f37dd7ee1cae"
                       "disableReboots": true
                       "downloadsDir": "Z:\\downloads"
                       "ed25519SigningKeyLocation": "C:\\generic-worker\\ed25519-private.key"
                       "livelogExecutable": "C:\\generic-worker\\livelog.exe"
                       "livelogPUTPort": 60022
                       "numberOfTasksToRun": 0
                       "runAfterUserCreation": "C:\\generic-worker\\task-user-init.cmd"
                       "runTasksAsCurrentUser": false
                       "sentryProject": "generic-worker"
                       "shutdownMachineOnIdle": false
                       "shutdownMachineOnInternalError": true
                       "taskclusterProxyExecutable": "C:\\generic-worker\\taskcluster-proxy.exe"
                       "taskclusterProxyPort": 80
                       "tasksDir": "Z:\\"
                       "wstAudience": "firefoxcitc"
                       "wstServerURL": "https://firefoxci-websocktunnel.services.mozilla.com/"
            generic-worker/windows-nss:
                genericWorker:
                    config:
                        "idleTimeoutSecs": 90
                        "checkForNewDeploymentEverySecs": 120
                        "cleanUpTaskDirs": true
                        "ed25519SigningKeyLocation": "C:\\generic-worker\\generic-worker-ed25519-signing-key.key"
                        "livelogExecutable": "C:\\generic-worker\\livelog.exe"
                        "sentryProject": "generic-worker"
                        "shutdownMachineOnInternalError": false
                        "taskclusterProxyExecutable": "C:\\generic-worker\\taskcluster-proxy.exe"
                        "wstAudience": "firefoxcitc"
                        "wstServerURL": "https://firefoxci-websocktunnel.services.mozilla.com/"

infra/hg-push:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 40
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 2
      worker-config:
        capacityManagement:
          diskspaceThreshold: 30000000000
    - instanceType: c5d.large
      capacityPerInstance: 2
      worker-config:
        capacityManagement:
          diskspaceThreshold: 30000000000
    - instanceType: c5.large
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
gecko-1/b-linux:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 1000
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-1/b-linux-gcp:
  description: Worker for Firefox automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: fxci-level1-gcp
  config:
    minCapacity: 0
    maxCapacity: 50
    regions: [us-central1]
    image: monopacker-docker-worker-current
    instance_types:
      - capacityPerInstance: 1
        minCpuPlatform: "Intel Skylake"
        workerConfig:
          task:
            reclaimDivisor: 2
        disks:
          - autoDelete: true
            boot: true
            initializeParams:
              diskSizeGb: 10
              sourceImage: '<image>'
            type: PERSISTENT
          - autoDelete: true
            initializeParams:
              diskType: zones/us-central1-a/diskTypes/local-ssd
            type: SCRATCH
            interface: NVME
        machine_type: custom-32-36864
        networkInterfaces:
          - accessConfigs:
              - type: ONE_TO_ONE_NAT
gecko-3/b-linux-gcp:
  description: Worker for Firefox automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: fxci-level3-gcp
  config:
    minCapacity: 0
    maxCapacity: 50
    regions: [us-central1]
    image: monopacker-docker-worker-trusted-current
    instance_types:
      - capacityPerInstance: 1
        minCpuPlatform: "Intel Skylake"
        workerConfig:
          task:
            reclaimDivisor: 2
        disks:
          - autoDelete: true
            boot: true
            initializeParams:
              diskSizeGb: 10
              sourceImage: '<image>'
            type: PERSISTENT
          - autoDelete: true
            initializeParams:
              diskType: zones/us-central1-a/diskTypes/local-ssd
            type: SCRATCH
            interface: NVME
        machine_type: custom-32-36864
        networkInterfaces:
          - accessConfigs:
              - type: ONE_TO_ONE_NAT
comm-1/b-linux:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 1000
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-1/b-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
comm-1/b-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-1/b-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.18xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.1
    - instanceType: m5d.24xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.3
    - instanceType: m5.24xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.1
    - instanceType: m4.16xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.18xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 0.9
comm-1/b-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.18xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.1
    - instanceType: m5d.24xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.3
    - instanceType: m5.24xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.1
    - instanceType: m4.16xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.18xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 0.9
gecko-1/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 5
    maxCapacity: 40
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
comm-1/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 5
    maxCapacity: 40
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-1/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
comm-1/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-2/b-linux:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 1000
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-2/b-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-2/b-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.18xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.1
    - instanceType: m5d.24xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.3
    - instanceType: m5.24xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 1.1
    - instanceType: m4.16xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.18xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 0.9
gecko-2/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 20
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-2/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-3/b-linux:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 1000
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 2
    - instanceType: m5.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
comm-3/b-linux:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 1000
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5d.4xlarge
      launhConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
      utility: 2
    - instanceType: m5.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-3/b-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    scalingRatio: 0
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
comm-3/b-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    scalingRatio: 0
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-3/b-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    scalingRatio: 0
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.18xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.24xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.24xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.16xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.18xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
comm-3/b-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    scalingRatio: 0
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.18xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.24xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.24xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.16xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.18xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
gecko-3/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 5
    maxCapacity: 20
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
comm-3/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 5
    maxCapacity: 20
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-3/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 1
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
comm-3/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 1
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-3/t-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    security: trusted
    worker-config:
      dockerConfig: {allowPrivileged: false}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: m3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-t/t-linux-xlarge-source:
  description: Worker for Firefox automation tests needing source checkouts.
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    worker-config:
      dockerConfig: {allowPrivileged: false}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: m3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-t/misc:
  description: Miscellaneous short, low-latency, simple tasks, shared between Gecko
    SCM levels.  Used for things like indexing tasks.  Note that disk space is limited
    (total 80GB, 9GB per task).
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    maxCapacity: 32
    scalingRatio: 0
    userData: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: r3.xlarge
      capacity: 8
      worker-config:
        capacityManagement: {diskspaceThreshold: 9000000000}
    - instanceType: m3.xlarge
      capacity: 8
      worker-config:
        capacityManagement: {diskspaceThreshold: 9000000000}
    - instanceType: c3.xlarge
      capacity: 8
      worker-config:
        capacityManagement: {diskspaceThreshold: 9000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
gecko-1/b-win2012:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-b-win2012-current
    maxCapacity: 512
    additional-user-data:
      workerType: gecko-1-b-win2012
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
      - instanceType: c4.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      - instanceType: c5.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
gecko-3/b-win2012:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-b-win2012-trusted-current
    maxCapacity: 600
    additional-user-data:
      workerType: gecko-3-b-win2012
    regions: [us-east-1, us-west-1, us-west-2]
    security: trusted
    implementation: generic-worker/windows
    instance_types:
      - instanceType: c4.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      - instanceType: c5.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
gecko-t/t-win10-64:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win10-64-current
    maxCapacity: 1024
    scalingRatio: 0
    additional-user-data:
      workerType: gecko-t-win10-64
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
    - instanceType: c5.2xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvda
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
        - DeviceName: xvdf
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
gecko-t/t-win10-64-srctest:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win10-64-current
    maxCapacity: 512
    scalingRatio: 0
    additional-user-data:
      workerType: gecko-t-win10-64
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
    - instanceType: c5.2xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvda
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
        - DeviceName: xvdf
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
gecko-t/t-win10-64-gpu-s:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win10-64-gpu-s-current
    maxCapacity: 512
    additional-user-data:
      workerType: gecko-t-win10-64-gpu-s
    regions: [us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
     - capacity: 1
       instanceType: g3s.xlarge
       launchConfig:
         BlockDeviceMappings:
         - DeviceName: /dev/xvda
           Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
         - DeviceName: xvdf
           Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
gecko-t/t-win7-32:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win7-32-current
    maxCapacity: 1024
    additional-user-data:
      workerType: gecko-t-win7-32
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
    - instanceType: c4.2xlarge
      capacity: 1
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/sda1
          Ebs: {VolumeType: gp2, VolumeSize: 30, DeleteOnTermination: true}
        - DeviceName: /dev/sdb
          Ebs: {VolumeType: gp2, VolumeSize: 120, DeleteOnTermination: true}
        - DeviceName: /dev/sdc
          Ebs: {VolumeType: gp2, VolumeSize: 120, DeleteOnTermination: true}
gecko-t/t-win7-32-gpu:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win7-32-gpu-current
    maxCapacity: 600
    additional-user-data:
      workerType: gecko-t-win7-32-gpu
    regions: [us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
    - instanceType: g2.2xlarge
      capacity: 1
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/sda1
          Ebs: {VolumeType: gp2, VolumeSize: 30, DeleteOnTermination: true}
        - DeviceName: /dev/sdb
          Ebs: {VolumeType: gp2, VolumeSize: 120, DeleteOnTermination: true}
        - DeviceName: /dev/sdc
          Ebs: {VolumeType: gp2, VolumeSize: 120, DeleteOnTermination: true}
comm-1/b-win2012:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-b-win2012-current
    maxCapacity: 512
    additional-user-data:
      workerType: gecko-1-b-win2012
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
      - instanceType: c4.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      - instanceType: c5.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
comm-3/b-win2012:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-b-win2012-trusted-current
    maxCapacity: 600
    additional-user-data:
      workerType: gecko-3-b-win2012
    regions: [us-east-1, us-west-1, us-west-2]
    security: trusted
    implementation: generic-worker/windows
    instance_types:
      - instanceType: c4.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      - instanceType: c5.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
comm-t/t-win10-64:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win10-64-current
    maxCapacity: 1024
    scalingRatio: 0
    additional-user-data:
      workerType: gecko-t-win10-64
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
    - instanceType: c5.2xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvda
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
        - DeviceName: xvdf
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      userData: {}
comm-t/t-win7-32:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-t-win7-32-current
    maxCapacity: 1024
    additional-user-data:
      workerType: gecko-t-win7-32
    regions: [eu-central-1, us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows
    instance_types:
    - instanceType: c4.2xlarge
      capacity: 1
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/sda1
          Ebs: {VolumeType: gp2, VolumeSize: 30, DeleteOnTermination: true}
        - DeviceName: /dev/sdb
          Ebs: {VolumeType: gp2, VolumeSize: 120, DeleteOnTermination: true}
        - DeviceName: /dev/sdc
          Ebs: {VolumeType: gp2, VolumeSize: 120, DeleteOnTermination: true}
gecko-t/t-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 3500
    worker-config:
      dockerConfig: {allowPrivileged: false}
    instance_types:
    - instanceType: m5.large
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 32, VolumeType: gp2}
      worker-config:
        billingCycleInterval: 7200
        capacityManagement: {diskspaceThreshold: 20000000000}
comm-t/t-linux-large:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 3500
    worker-config:
      dockerConfig: {allowPrivileged: false}
    instance_types:
    - instanceType: m5.large
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 32, VolumeType: gp2}
      worker-config:
        billingCycleInterval: 7200
        capacityManagement: {diskspaceThreshold: 20000000000}
gecko-t/t-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 3500
    worker-config:
      dockerConfig: {allowPrivileged: false}
    instance_types:
    - instanceType: m3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c3.2xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
comm-t/t-linux-xlarge:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 3500
    worker-config:
      dockerConfig: {allowPrivileged: false}
    instance_types:
    - instanceType: m3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c3.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c3.2xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
releng-1/linux:
  description: Releng github worker
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 100
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.0'}
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
releng-3/linux:
  description: Releng github worker
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 100
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.0'}
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
releng-t/linux:
  description: Releng github worker
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 100
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.0'}
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
nss-1/linux:
  description: Worker type that can be used for nss related pushes.
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 50
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
nss-3/linux:
  description: Worker type that can be used for nss related pushes.
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 50
    scalingRatio: 0
    security: trusted
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
nss-1/win2012r2:
  description: Worker type that can be used for nss related pushes.
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: nss-win2012r2-current
    maxCapacity: 10
    additional-user-data:
      workerType: gecko-1-b-win2012
    regions: [us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows-nss
    instance_types:
      - instanceType: m5d.2xlarge
        capacity: 1
nss-3/win2012r2:
  description: Worker type that can be used for nss related pushes.
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: nss-win2012r2-current
    maxCapacity: 10
    additional-user-data:
      workerType: gecko-1-b-win2012
    regions: [us-east-1, us-west-1, us-west-2]
    security: windows-untrusted
    implementation: generic-worker/windows-nss
    instance_types:
      - instanceType: m5d.2xlarge
        capacity: 1
mobile-1/b-linux-large:
  description: General-purpose worker for projects by android components team (to
    build and release a very large suite of Kotlin components)
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 500
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-1/b-linux:
  description: Level 1 build workers for mobile projects
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 50
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-1/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 100
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.large
      capacity: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-1/images:
  description: 'Builds docker images for mobile projects; NOTE: capacity set to 1
    instead of 3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
        restrictCPU: false
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-3/b-linux-large:
  description: General-purpose worker for projects by android components team (to
    build and release a very large suite of Kotlin components)
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 500
    scalingRatio: 0
    security: trusted
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-3/b-linux:
  description: Level 1 build workers for mobile projects
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 50
    scalingRatio: 0
    security: trusted
    instance_types:
    - instanceType: m5d.xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-3/decision:
  description: Worker for Firefox automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 1
    maxCapacity: 100
    scalingRatio: 0
    security: trusted
    instance_types:
    - instanceType: m5d.large
      capacity: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mobile-3/images:
  description: 'Builds docker images for mobile projects; NOTE: capacity set to 1
    instead of 3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    security: trusted
    instance_types:
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
        restrictCPU: false
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
app-services-1/decision:
  description: Worker for rust projects by Application Services team
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: m5d.large
      capacity: 1
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
app-services-1/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: c5d.xlarge
      launchSpec:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
app-services-3/decision:
  description: Worker for rust projects by Application Services team
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 1
    maxCapacity: 10
    scalingRatio: 0
    worker-config: {billingCycleInterval: 21600}
    security: trusted
    instance_types:
    - instanceType: m5d.large
      capacity: 1
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
app-services-3/images:
  description: 'Builds docker images for gecko; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 30
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    security: trusted
    instance_types:
    - instanceType: c5d.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
app-services-1/b-linux:
  description: Worker for rust projects by Application Services team
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 2
    maxCapacity: 100
    scalingRatio: 0
    instance_types:
    # XXX: we might need befier instances (e.g. c5d.9x large) for rust compilation.
    - instanceType: c5d.4xlarge
      capacity: 1
      utility: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
        restrictCPU: false
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
app-services-3/b-linux:
  description: Worker for rust projects by Application Services team
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 2
    maxCapacity: 100
    scalingRatio: 0
    security: trusted
    instance_types:
    # XXX: we might need befier instances (e.g. c5d.9x large) for rust compilation.
    - instanceType: c5d.4xlarge
      capacity: 1
      utility: 1
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mozillaonline-1/b-linux:
  description: Worker for MozillaOnline automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mozillaonline-3/b-linux:
  description: Worker for MozillaOnline automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
hg-t/linux:
  description: Testing for https://hg.mozilla.org/hgcustom/version-control-tools
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.0'}
    instance_types:
    - instanceType: c5d.2xlarge
      capacity: 1
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
l10n-1/decision:
  description: Worker for L10n decision tasks
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
l10n-1/linux:
  description: General-purpose worker for l10n automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.large
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
l10n-1/images:
  description: General-purpose worker for l10n automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: c5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.large
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
l10n-3/decision:
  description: Worker for l10n decision tasks
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
l10n-3/linux:
  description: General-purpose worker for l10n automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: c5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.large
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
l10n-3/images:
  description: General-purpose worker for l10n automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: c5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.large
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.large
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
mpd001-1/decision:
  description: Worker for mpd001 Decision Tasks
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.large
      userData:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
mpd001-3/decision:
  description: Worker for mpd001 Decision Tasks
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 10
    scalingRatio: 0
    instance_types:
    - instanceType: m5d.large
      userData:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
#mpd001-1/b-win2012:
#  description: ''
#  owner: release+tc-workers@mozilla.com
#  email_on_error: false
#  provider_id: aws
#  config:
#    # XXX Need untrusted image
#    image: occ-mpd001-b-win2012-current
#    maxCapacity: 6
#    additional-user-data:
#      workerType: mpd001-1-b-win2012
#    regions: [us-east-1, us-west-1, us-west-2]
#    security: windows-untrusted
#    implementation: generic-worker/windows
#    instance_types:
#      - instanceType: c4.4xlarge
#        capacity: 1
#        launchConfig:
#          BlockDeviceMappings:
#          - DeviceName: /dev/sda1
#            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
#          - DeviceName: /dev/sdb
#            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
#      - instanceType: c5.4xlarge
#        capacity: 1
#        launchConfig:
#          BlockDeviceMappings:
#          - DeviceName: /dev/sda1
#            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
#          - DeviceName: /dev/sdb
#            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
mpd001-3/b-win2012:
  description: ''
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: occ-mpd001-b-win2012-trusted-current
    maxCapacity: 6
    additional-user-data:
      workerType: mpd001-3-b-win2012
    regions: [us-east-1, us-west-1, us-west-2]
    security: trusted
    implementation: generic-worker/windows
    instance_types:
      - instanceType: c4.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      - instanceType: c5.4xlarge
        capacity: 1
        launchConfig:
          BlockDeviceMappings:
          - DeviceName: /dev/sda1
            Ebs: {DeleteOnTermination: true, VolumeSize: 40, VolumeType: gp2}
          - DeviceName: /dev/sdb
            Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
xpi-1/decision:
  description: Worker for XPI automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
xpi-3/decision:
  description: Worker for XPI automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
xpi-1/b-linux:
  description: Worker for XPI automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
xpi-3/b-linux:
  description: Worker for XPI automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
xpi-1/images:
  description: 'Builds docker images for XPI; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
xpi-3/images:
  description: 'Builds docker images for xpi; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
adhoc-1/decision:
  description: Worker for adhoc signing automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
adhoc-3/decision:
  description: Worker for adhoc signing automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    worker-config: {billingCycleInterval: 21600}
    instance_types:
    - instanceType: c5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.5
    - instanceType: m5d.xlarge
      capacityPerInstance: 2
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
      utility: 1.4
    - instanceType: c5.xlarge
      capacityPerInstance: 2
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
adhoc-1/b-linux:
  description: Worker for adhoc signing automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    instance_types:
    - instanceType: c5d.4xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
adhoc-3/b-linux:
  description: Worker for adhoc signing automation
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    maxCapacity: 10
    security: trusted
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.9xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5d.12xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m5.12xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c5.9xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: m4.10xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
    - instanceType: c4.8xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 70000000000}
adhoc-1/images:
  description: 'Builds docker images for adhoc signing; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-current
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
adhoc-3/images:
  description: 'Builds docker images for adhoc signing; NOTE: capacity set to 1 instead of
    3 (and downgraded to xlarge) to try to avoid [issues with dind](https://bugzilla.mozilla.org/show_bug.cgi?id=1427096)'
  owner: release+tc-workers@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    image: docker-worker-hvm-builder-trusted-current
    minCapacity: 0
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    regions: [us-east-1, us-west-1, us-west-2]
    instance_types:
    - instanceType: c5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: m5d.xlarge
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
    - instanceType: c5.xlarge
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 120, VolumeType: gp2}
      worker-config:
        capacityManagement: {diskspaceThreshold: 30000000000}
gecko-t/t-linux-metal:
  description: Monopacker metal workers for Firefox automation
  owner: mcrabill@mozilla.com
  email_on_error: false
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: monopacker-docker-2019-12-10t15-38-04z
    minCapacity: 0
    maxCapacity: 20
    spot: true
    instance_types:
    - instanceType: c5d.metal
      capacityPerInstance: 28
pmoore-test/gwci-linux:
  description: '[Bug 1581920](https://bugzil.la/1581920) - same as aws-provisioner-v1/gwci-linux but for GCP'
  owner: pmoore@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions:
    - us-east-1
    - us-west-1
    - us-west-2
    instance_types:
    - instanceType: c4.2xlarge
      worker-config:
        genericWorker:
          config:
            deploymentId: KSjGK16ySI-A7Cs-DGAnLg
            ed25519SigningKeyLocation: "/etc/generic-worker/ed25519_key"
            livelogExecutable: "/usr/local/bin/livelog"
            runTasksAsCurrentUser: true
            shutdownMachineOnInternalError: false
            taskclusterProxyExecutable: "/usr/local/bin/taskcluster-proxy"
            taskclusterProxyPort: 8080
            tasksDir: "/home"
            workerTypeMetadata:
              machine-setup:
                maintainer: pmoore@mozilla.com
                script: https://raw.githubusercontent.com/taskcluster/generic-worker/b61e0d09401b0f4c4a8f33a5e2eb239bb90dc7ac/worker_types/gwci-linux/bootstrap.sh
            wstAudience: taskcluster-net
            wstServerURL: https://websocktunnel.tasks.build
    minCapacity: 0
    maxCapacity: 10
    image: gwci-linux
project-relman/relman-svc:
  description: Release management workers
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 100
    instance_types:
    - instanceType: m5.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
code-review/bot:
  description: Worker for the code-review bot.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 100
    instance_types:
    - instanceType: m5.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 10, VolumeType: gp2}
    - instanceType: m5a.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 10, VolumeType: gp2}
    - instanceType: m5d.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 10, VolumeType: gp2}
    - instanceType: m5ad.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 10, VolumeType: gp2}
    - instanceType: m4.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 10, VolumeType: gp2}
project-relman/relman-svc-memory:
  description: Release management workers
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 100
    instance_types:
    - instanceType: r5.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: r5d.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: r5a.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: r5ad.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: z1d.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5a.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5d.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5ad.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m4.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: c5.4xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: c5d.4xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
code-coverage/bot:
  description: Worker for the code-coverage bot.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 1
    maxCapacity: 100
    instance_types:
    - instanceType: r5.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: r5d.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: r5a.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: r5ad.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: z1d.large
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5a.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5d.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m5ad.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: m4.xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: c5.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
    - instanceType: c5d.2xlarge
      capacityPerInstance: 1
      worker-config:
        capacityManagement:
          diskspaceThreshold: 20000000000
      launchConfig:
        BlockDeviceMappings:
        - DeviceName: /dev/xvdb
          Ebs: {DeleteOnTermination: true, VolumeSize: 100, VolumeType: gp2}
taskgraph-1/decision:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
taskgraph-3/decision:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
taskgraph-1/images:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
taskgraph-3/images:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
taskgraph-t/linux:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
ci-1/decision:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
ci-3/decision:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
ci-1/images:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
ci-3/images:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    worker-config: {dindImage: 'taskcluster/dind-service:v4.1'}
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
ci-t/linux:
  description: Worker for firefox-ci automation.
  owner: release+tc-workers@mozilla.com
  email_on_error: true
  provider_id: aws
  config:
    regions: [us-east-1, us-west-1, us-west-2]
    image: docker-worker-hvm-builder-current
    minCapacity: 0
    maxCapacity: 10
    instance_types:
    - instanceType: m5d.large
      capacityPerInstance: 1
