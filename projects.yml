# This file contains configuration for each of the repositories containing the
# Gecko source tree.
#
# Repositories are also known as projects (mostly within the
# taskgraph-generation code) and as branches (although they are not Mercurial
# branches).
#
# Structure
# ---------
#
# Each project is keyed by its "alias", a short, slash-free name for the project.
#
# The value is an object describing the project with the following keys:
#
# - `repo` -- the https repository URL
# - `repo_type` -- always `hg` (for later expansion)
# - `access` -- the name of the group with access to this repository; typically `scm_level_{1,2,3}`.
# - `trust_domain` -- separation within an access level of projects with different organizations
# - 'gecko_repo' -- the corresponding root repository, for repositories that are usually checked
#                   out as sub-repositories (i.e. for comm-central dervied respositories)
# - `features` -- features that should be enabled for this project, as an object with boolean
#                 values, defaulting to false
#   - `buildbot` -- Buildbot builders configured for the branch
#   - 'is-trunk' -- Branches containing 'landed' code destined for nightly builds. These branches have a shared index
#       that can be referenced by the tip revision on any push.
#   - `taskcluster-docker-routes-v1` -- index namespaces of the form `docker.images.v1.<project>.*`
#   - `taskcluster-docker-routes-v2` -- index namespaces of the form `docker.images.v2.level-<level>.*`
#   - `taskcluster-cron` -- tasks defined in `.cron.yml` can run for this project
#   - `taskcluster-push` -- decision tasks run for pushes to this project's repository
# - `extra_tc_scopes` -- additional taskcluster scopes required by this project; this is generally
#   useful when scopes are removed from more recent repositories but required for historical repositories
#   such as ESRs
---
ash:
  repo: https://hg.mozilla.org/projects/ash
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: false
    taskcluster-push: true
mozilla-release:
  repo: https://hg.mozilla.org/releases/mozilla-release
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
mozilla-esr52:
  repo: https://hg.mozilla.org/releases/mozilla-esr52
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: false
    taskcluster-push: true
  extra_tc_scopes:
    - 'docker-worker:cache:build-macosx64-st-an-workspace'
    - 'docker-worker:cache:build-macosx64-workspace'
    - 'docker-worker:cache:build-mozilla-esr52*'
    - 'docker-worker:cache:tc-vcs'
    - 'docker-worker:cache:tc-vcs-public-sources'
    - 'queue:rerun-task'
    - 'queue:route:index.gecko.v1.mozilla-esr52.*'
mozilla-esr60:
  repo: https://hg.mozilla.org/releases/mozilla-esr60
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
comm-esr52:
  repo: https://hg.mozilla.org/releases/comm-esr52
  repo_type: hg
  access: scm_level_3
  trust_domain: comm
  features:
    taskcluster-cron: false
    taskcluster-push: false
comm-esr60:
  repo: https://hg.mozilla.org/releases/comm-esr60
  repo_type: hg
  access: scm_level_3
  trust_domain: comm
  features:
    taskcluster-cron: false
    taskcluster-push: true
  extra_tc_scopes:
    - project:comm:thunderbird:releng:balrog:server:release
    - project:comm:thunderbird:releng:beetmover:bucket:release
    - project:comm:thunderbird:releng:bouncer:server:production
    - project:comm:thunderbird:releng:ship-it:production
    - project:comm:thunderbird:releng:signing:cert:release-signing
    - queue:create-task:highest:scriptworker-prov-v1/tb-balrog-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-beetmover-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-bouncer-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-shipit-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-signing-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-treescript-comm-v1
oak:
  repo: https://hg.mozilla.org/projects/oak
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
pine:
  repo: https://hg.mozilla.org/projects/pine
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
mozilla-beta:
  repo: https://hg.mozilla.org/releases/mozilla-beta
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
comm-beta:
  repo: https://hg.mozilla.org/releases/comm-beta
  repo_type: hg
  access: scm_level_3
  trust_domain: comm
  gecko_repo: https://hg.mozilla.org/releases/mozilla-beta
  features:
    taskcluster-cron: false
    taskcluster-push: true
  extra_tc_scopes:
    - project:comm:thunderbird:releng:balrog:server:beta
    - project:comm:thunderbird:releng:beetmover:bucket:release
    - project:comm:thunderbird:releng:bouncer:server:production
    - project:comm:thunderbird:releng:ship-it:production
    - project:comm:thunderbird:releng:signing:cert:release-signing
    - queue:create-task:highest:scriptworker-prov-v1/tb-balrog-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-beetmover-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-bouncer-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-shipit-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-signing-v1
    - queue:create-task:highest:scriptworker-prov-v1/tb-treescript-comm-v1
mozilla-inbound:
  repo: https://hg.mozilla.org/integration/mozilla-inbound
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    is-trunk: true
    taskcluster-cron: true
    taskcluster-push: true
mozilla-central:
  repo: https://hg.mozilla.org/mozilla-central
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    is-trunk: true
    taskcluster-cron: true
    taskcluster-push: true
comm-central:
  repo: https://hg.mozilla.org/comm-central
  repo_type: hg
  access: scm_level_3
  trust_domain: comm
  gecko_repo: https://hg.mozilla.org/mozilla-central
  features:
    taskcluster-cron: true
    taskcluster-push: true
    is-trunk: true
cedar:
  repo: https://hg.mozilla.org/projects/cedar
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    taskcluster-cron: false
    taskcluster-push: false
birch:
  repo: https://hg.mozilla.org/projects/birch
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
cypress:
  repo: https://hg.mozilla.org/projects/cypress
  repo_type: hg
  access: scm_level_2
  trust_domain: comm
  features:
    taskcluster-cron: false
    taskcluster-push: false
ux:
  repo: https://hg.mozilla.org/projects/ux
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    taskcluster-cron: false
    taskcluster-push: false
elm:
  repo: https://hg.mozilla.org/projects/elm
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
graphics:
  repo: https://hg.mozilla.org/projects/graphics
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    taskcluster-cron: false
    taskcluster-push: false
try:
  repo: https://hg.mozilla.org/try
  repo_type: hg
  access: scm_level_1
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: false
    taskcluster-push: true
stylo-try:
  repo: https://hg.mozilla.org/incubator/stylo-try
  repo_type: hg
  access: scm_level_1
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: false
    taskcluster-push: true
try-comm-central:
  repo: https://hg.mozilla.org/try-comm-central
  repo_type: hg
  access: scm_level_1
  trust_domain: comm
  features:
    taskcluster-cron: false
    taskcluster-push: true
larch:
  repo: https://hg.mozilla.org/projects/larch
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    taskcluster-cron: false
    taskcluster-push: false
maple:
  repo: https://hg.mozilla.org/projects/maple
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
jamun:
  repo: https://hg.mozilla.org/projects/jamun
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: true
    taskcluster-push: true
autoland:
  repo: https://hg.mozilla.org/integration/autoland
  repo_type: hg
  access: scm_level_3
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    is-trunk: true
    taskcluster-cron: true
    taskcluster-push: true
stylo:
  repo: https://hg.mozilla.org/incubator/stylo
  repo_type: hg
  access: scm_level_2
  trust_domain: gecko
  features:
    buildbot: true
    taskcluster-docker-routes-v1: true
    taskcluster-docker-routes-v2: true
    taskcluster-cron: false
    taskcluster-push: true
