# This file contains definitions of worker images, for reference from
# worker-pools.yml.
#
# Each section keyed by image name, with the contents divided by cloud
# provider and then by cloud-provider-specific details.
#
# Aliases can be defined by a simple string; this is useful for "current" images

---

# docker-worker-hvm* are the Ubuntu-14.04 based workers, built by
# https://github.com/taskcluster/docker-worker-deploy/.  These are deprecated but still
# in use.

docker-worker-hvm-builder-current: docker-worker-v202004241848-hvm-builder-bug1676214
docker-worker-hvm-builder-trusted-current: docker-worker-v202004241848-hvm-builder-trusted-bug1676214

# monopacker-docker-worker-* images are built with monopacker.

# For "-trusted-current", use secrets from
# `docker-worker/yaml/firefoxci-tc-production-l3.yaml` in the TC team's
# password repo.  Use monpacker builders `docker_worker_gcp_trusted` and
# `docker_worker_aws`.
#
# For `-current`, use `docker-worker/yaml/firefoxci-tc-staging-l1.yaml`, and
# builders `docker_worker_gcp` and `docker_worker_aws`.
#
# To build in AWS, you will need AWS credentials with permissions to run Packer; see
# https://www.packer.io/docs/builders/amazon/#iam-task-or-instance-role.  These creds
# should be created in the `mozilla-taskcluster` AWS account.
#
# To build in GCP, you will need project access to the following GCP projects:
# - -current -> `taskcluster-imaging` (Note that there is a fxci-production-level1-workers project; it is unused)
# - -trusted-current -> `fxci-production-level3-workers`
# Relops can configure the level-3 access for you.  It will require that
# you have a static source IP.  "Compute Engine Instance Admin (v1)" is the
# required permission.  You will need to select the appropriate project with
# `gcloud config set project <project>` before starting.

monopacker-docker-worker-current: monopacker-docker-worker-2020-08-05t22-29-20z-bug1676214
monopacker-docker-worker-trusted-current: monopacker-docker-worker-trusted-2020-08-05t22-01-11z-bug1676214
monopacker-docker-worker-baremetal-current: monopacker-docker-worker-2020-05-04T14-30-19Z-bug1676214

occ-b-win2012-current: occ-b-win2012-v20201014
occ-b-win2012-trusted-current: occ-b-win2012-trusted-83ededb
occ-t-win10-64-current: occ-t-win10-64-9ed04eb
occ-t-win10-64-gpu-s-current: occ-t-win10-64-gpu-s-15415a4
occ-t-win7-32-current: occ-t-win7-32-v20200226
occ-t-win7-32-gpu-current: occ-t-win7-32-gpu-v20200226
occ-mpd001-b-win2012-current: occ-mpd-b-win2012-v20200226
occ-mpd001-b-win2012-trusted-current: occ-mpd-b-win2012-trusted-v20200226

nss-win2012r2-current: nss-win2012r2-pre

relops-image-builder-current: relops-image-builder-pre

# production docker-worker AMIs
docker-worker-v201909302015-hvm-builder:
  aws:
    eu-central-1: ami-09c2cc55cb70c4c7e
    us-east-1: ami-09b57f1b0cce1b43e
    us-west-1: ami-087991f6d2383cd2b
    us-west-2: ami-09c88d0779d181691
docker-worker-v201910231323-hvm-builder-trusted:
  aws:
    eu-central-1: ami-00289fa38ae0234c9
    us-east-1: ami-0141ccd3045c08653
    us-west-1: ami-0094ac4ee041f24e7
    us-west-2: ami-0a99e89a874cf97c1
docker-worker-v201910231323-hvm-builder:
  aws:
    eu-central-1: ami-0bef3ba928aa3e8f5
    us-east-1: ami-000ac706663fea404
    us-west-1: ami-05bf92a940dae090d
    us-west-2: ami-03f808b14ea0e3d4a
docker-worker-v201911061915-hvm-builder:
  aws:
    eu-central-1: ami-0439849bc46e4e44d
    us-east-1: ami-0c6baccdc3a45fbae
    us-west-1: ami-0635735a119e7c2f4
    us-west-2: ami-0e8780fabeed48695
docker-worker-v201911061915-hvm-builder-trusted:
  aws:
    eu-central-1: ami-02a9b0ddd5df2f4b8
    us-east-1: ami-0f83af2653bf8e86f
    us-west-1: ami-03e36157e9715181b
    us-west-2: ami-04f8c1146b2c66c6d
docker-worker-v201911141441-hvm-builder:
  aws:
    eu-central-1: ami-00e8bd2e0ef11bc1d
    us-east-1: ami-0ad7b98255befdcbf
    us-west-1: ami-0ee7ee2a00fafe982
    us-west-2: ami-06d68591fefdc678b
docker-worker-v201911141441-hvm-builder-trusted:
  aws:
    eu-central-1: ami-07a263166b10fa0fe
    us-east-1: ami-09d71961846d47b9d
    us-west-1: ami-05e408a7a90055227
    us-west-2: ami-03536ec528c871abb
docker-worker-v201912041449-hvm-builder:
  aws:
    eu-central-1: ami-0397f79ef6faa37c4
    us-east-1: ami-076b0e106674bfcbf
    us-west-1: ami-052fe3192c0f750cb
    us-west-2: ami-0a89ebd64d44aebdb
docker-worker-v201912041449-hvm-builder-trusted:
  aws:
    eu-central-1: ami-03e57a753ac598a39
    us-east-1: ami-094b2e87a15dd92fd
    us-west-1: ami-0f2f0e39f3cf1bcf7
    us-west-2: ami-0bb2a182014e8742b
# production docker-worker AMIs
docker-worker-v202002031613-hvm-builder:
  aws:
    eu-central-1: ami-0b246888a9827135f
    us-east-1: ami-020e038328915f623
    us-west-1: ami-03b3ccbeb9ea1ac0a
    us-west-2: ami-02bc31b0b94b6f62c
docker-worker-v202002031613-hvm-builder-trusted:
  aws:
    eu-central-1: ami-0668089c79c6575be
    us-east-1: ami-03788cad4724efdbc
    us-west-1: ami-0a111e2f4e0044ebd
    us-west-2: ami-0faaf8674923beeee
docker-worker-v202003111922-hvm-builder:
  aws:
    us-east-1: ami-06ac9ee18e86b4892
    us-west-1: ami-03b1405dc3b053cf4
    us-west-2: ami-05d35f4d2a71f20b1
docker-worker-v202003111922-hvm-builder-trusted:
  aws:
    us-east-1: ami-07e70e699424dd695
    us-west-1: ami-09daef7725caf1a0a
    us-west-2: ami-0685cc694058463df
docker-worker-v202004031836-hvm-builder:
  aws:
    us-east-1: ami-0282791a2bf856156
    us-west-1: ami-06a3ad34aab3661e3
    us-west-2: ami-0102e9e98777c889d
docker-worker-v202004031836-hvm-builder-trusted:
  aws:
    us-east-1: ami-00d06a33e279e3f08
    us-west-1: ami-0e21aaf8c44636912
    us-west-2: ami-00acae7370bdf99d4
docker-worker-v202004241848-hvm-builder:
  aws:
    us-east-1: ami-01dd72830baa6a0bc
    us-west-1: ami-0790f4d44d742adba
    us-west-2: ami-02209580e11786d58
docker-worker-v202004241848-hvm-builder-trusted:
  aws:
    us-east-1: ami-0c7619923463d28f9
    us-west-1: ami-0a60d2d4a5c6253de
    us-west-2: ami-01a86f99411dd3c48
docker-worker-v202004241848-hvm-builder-bug1676214:
  aws:
    us-east-1: ami-030351eb257542536
    us-west-1: ami-001e2f92c69f7ddfb
    us-west-2: ami-0d3cd077c6f51f624
docker-worker-v202004241848-hvm-builder-trusted-bug1676214:
  aws:
    us-east-1: ami-0cf2dc9e4b190d0c9
    us-west-1: ami-0c3b7d65639bf5ba2
    us-west-2: ami-03e0359d864cbcf5f

# monopacker docker-worker images
monopacker-docker-worker-trusted-2020-01-08t20-30-16z:
  fxci-level3-gcp:
    # uses old cot key, i.e. J+PAK...
    projects/fxci-production-level3-workers/global/images/docker-worker-gcp-l3-googlecompute-2020-01-08t20-30-16z
monopacker-docker-worker-trusted-2020-01-10t21-13-32z:
  fxci-level3-gcp:
    # uses new cot key, i.e. tk/Sj...
    projects/fxci-production-level3-workers/global/images/docker-worker-gcp-trusted-googlecompute-2020-01-10t21-13-32z
monopacker-docker-worker-2020-02-07t09-14-17z:
  fxci-level1-gcp:
    projects/taskcluster-imaging/global/images/docker-worker-gcp-googlecompute-2020-02-07t09-14-17z
  fxci-level3-gcp:
    projects/taskcluster-imaging/global/images/docker-worker-gcp-googlecompute-2020-02-07t09-14-17z
  fxci-levelt-gcp:
    projects/taskcluster-imaging/global/images/docker-worker-gcp-googlecompute-2020-02-07t09-14-17z
monopacker-docker-worker-2020-02-12T10-40-15Z:
  aws:
    us-east-1: ami-0dba3f8bdf9ca7225
    us-west-1: ami-0e3d1dc440550cc66
    us-west-2: ami-0542988103c65ceef
monopacker-docker-worker-2020-03-17T21-09-10Z:
  aws:
    us-east-1: ami-0802c9c8ead2064e2
    us-west-1: ami-01019d9ec341bfd97
    us-west-2: ami-05779c416590ed79a
monopacker-docker-worker-2020-03-20T18-47-01Z:
  aws:
    us-east-1: ami-0a915b24d43547339
    us-west-1: ami-005fe4cf399571879
    us-west-2: ami-034c2aed1cc529ceb
monopacker-docker-worker-2020-07-22T01-14-41Z:
  aws:
    us-east-1: ami-050cfe8c90ef14588
    us-west-1: ami-014a67f79fbc548d3
    us-west-2: ami-0129aeb33fb8162c7
monopacker-docker-worker-trusted-2020-07-22T01-14-41Z:
  aws:
    us-east-1: ami-05574450bb21b6c06
    us-west-1: ami-03cfbf8a520d0b655
    us-west-2: ami-05fe9a74d527818e6
monopacker-docker-worker-gcp-trusted-2020-02-13t03-22-56z:
  fxci-level3-gcp:
    projects/fxci-production-level3-workers/global/images/docker-worker-gcp-trusted-googlecompute-2020-02-13t03-22-56z
monopacker-docker-worker-2020-04-03t19-20-03z:
  aws:
    us-east-1: ami-030b2ab7c8f88b9e1
    us-west-1: ami-0237591aaa5652efe
    us-west-2: ami-0b2735a529984897b
monopacker-docker-worker-2020-05-04T14-30-19Z:
  aws:
    us-east-1: ami-08a1f9efa3d1ac2e9
    us-west-1: ami-095477afa5016a926
    us-west-2: ami-07b33db0f538882e1
monopacker-docker-worker-2020-05-04T14-30-19Z-bug1676214:
  aws:
    us-east-1: ami-05b8b85ba7e1884b3
    us-west-1: ami-04ff42cacfbd28cd9
    us-west-2: ami-0af454e126ac59a6e
monopacker-docker-worker-2020-08-05t22-29-20z:
  aws:
    us-east-1: ami-0fe24f9486925b029
    us-west-1: ami-04dd8b4beade35aae
    us-west-2: ami-05386759ffd1588de
  fxci-level1-gcp:
    projects/taskcluster-imaging/global/images/docker-worker-gcp-googlecompute-2020-08-05t22-29-20z
  fxci-level3-gcp:
    projects/taskcluster-imaging/global/images/docker-worker-gcp-googlecompute-2020-08-05t22-29-20z
  fxci-levelt-gcp:
    projects/taskcluster-imaging/global/images/docker-worker-gcp-googlecompute-2020-08-05t22-29-20z
monopacker-docker-worker-2020-08-05t22-29-20z-bug1676214:
  aws:
    us-east-1: ami-0d06ad0672180c8bf
    us-west-1: ami-007012d8875fd42aa
    us-west-2: ami-02dba89933a1c4558
  fxci-level1-gcp:
    projects/taskcluster-imaging/global/images/docker-firefoxci-gcp-l1-googlecompute-2020-11-09t21-38-30z
  fxci-level3-gcp:
    projects/fxci-production-level3-workers/global/images/docker-firefoxci-gcp-l3-googlecompute-2020-11-09t21-03-26z
  fxci-levelt-gcp:
    projects/taskcluster-imaging/global/images/docker-firefoxci-gcp-l1-googlecompute-2020-11-09t21-38-30z
monopacker-docker-worker-trusted-2020-08-05t22-01-11z:
  aws:
    us-east-1: ami-0b7779127f469c41b
    us-west-1: ami-02ef0e03f2ce4653d
    us-west-2: ami-0c6b38c7153dddc28
  fxci-level3-gcp:
    projects/fxci-production-level3-workers/global/images/docker-worker-gcp-trusted-googlecompute-2020-08-05t22-01-11z
monopacker-docker-worker-trusted-2020-08-05t22-01-11z-bug1676214:
  aws:
    us-east-1: ami-0e9d6a2440af6bcad
    us-west-1: ami-08d909aa4d6a62ca3
    us-west-2: ami-008fbf458e350fc3d
  fxci-level3-gcp:
    projects/fxci-production-level3-workers/global/images/docker-firefoxci-gcp-l3-googlecompute-2020-11-09t21-03-26z

# generic-worker images
gwci-linux:
  aws:
    us-east-1: ami-0376deba0edbb4182
    us-west-1: ami-0d2bc4a97a0aaa9d3
    us-west-2: ami-00e7eeb8d7449b1ce
occ-b-win2012-pre:
  aws:
    eu-central-1: ami-0b87f079b1cc620d6
    us-east-1: ami-0da02e9fca7ed9571
    us-west-1: ami-0f60c98f2480844df
    us-west-2: ami-08766522e4f058dba
occ-b-win2012-trusted-pre:
  aws:
    us-east-1: ami-0528797bdcd2ea228
    us-west-1: ami-093f078f632dd65f1
    us-west-2: ami-08d29be36b85571d8
occ-t-win7-32-pre:
  aws:
    eu-central-1: ami-0dfab5a4f63b6a0ad
    us-east-1: ami-060329ad97274a637
    us-west-1: ami-08e087e85ba09f929
    us-west-2: ami-07e0e8cc311e35b8d
occ-t-win7-32-gpu-pre:
  aws:
    us-east-1: ami-05fe57b3c5b8b12b9
    us-west-1: ami-0d943d137b0a78d5d
    us-west-2: ami-0003e4e80ff09fd52
#occ-mpd-b-win2012-pre:
#  aws:
#    # XXX need untrusted ami's
#    us-east-1: <>
#    us-west-1: <>
#    us-west-2: <>
occ-mpd-b-win2012-trusted-pre:
  aws:
    us-east-1: ami-0ec3a03bb7d714bfc
    us-west-1: ami-05fc1054896b9c36f
    us-west-2: ami-01f384dec7ba738af

nss-win2012r2-pre:
  aws:
    us-west-1: ami-0d05851ab254517de
    us-west-2: ami-02f981615a8102d24

# OCC v20201014 == OCC Repo: e87654c7ae64da8645b28bb0d037d28e691fd5cd
occ-b-win2012-v20201014:
  aws:
    eu-central-1: ami-00d3de3356c6800cd
    us-east-1: ami-0e24803fec8cd6c9b
    us-west-1: ami-0fef0fa04ad1b9b93
    us-west-2: ami-01413ee84de19d4b6
occ-b-win2012-trusted-83ededb:
  aws:
    us-east-1: ami-0978123a845a061c1
    us-west-1: ami-07163c5e52e34866a
    us-west-2: ami-03da2722a08986fe2
occ-t-win10-64-9ed04eb:
  aws:
    eu-central-1: ami-0a18142645b09f239
    us-east-1: ami-0c365f668d4994031
    us-west-1: ami-0c27a414716f12d2c
    us-west-2: ami-060466b6a8383320b
occ-t-win10-64-gpu-s-15415a4:
  aws:
    eu-central-1: ami-0edef7012b9dcc275
    us-east-1: ami-0ce303e4b25ad6085
    us-west-1: ami-0af8cddafe92aa9b8
    us-west-2: ami-0c33b8f687d771402
occ-t-win7-32-v20200226:
  aws:
    eu-central-1: ami-01db0b27d4878f677
    us-east-1: ami-04a4865797a61b24d
    us-west-1: ami-098ffef5cf401c46d
    us-west-2: ami-06f345a21f6faad86
occ-t-win7-32-gpu-v20200226:
  aws:
    eu-central-1: ami-0b41dc6c8248c4f32
    us-east-1: ami-02641726e4b419ba4
    us-west-1: ami-0ebc5c792d8418b65
    us-west-2: ami-0cecd6bf98b15e862
occ-mpd-b-win2012-v20200226:
  aws:
    eu-central-1: ami-07d4147c61c18619b
    us-east-1: ami-0395927688a8dedb9
    us-west-1: ami-08a869b15b885eb49
    us-west-2: ami-039046a9634043633
occ-mpd-b-win2012-trusted-v20200226:
  aws:
    eu-central-1: ami-09a5852e0cc1edb81
    us-east-1: ami-08f30fc003814c298
    us-west-1: ami-0c76678a5bdb06f4e
    us-west-2: ami-0520ba0d12752373c

relops-image-builder-pre:
    aws:
      eu-central-1: ami-07db1c26bda143e33
      us-east-1: ami-026ed942b8c9d7503
      us-east-2: ami-0be81fd9f318f0272
      us-west-1: ami-00f2cff76f39b3333
      us-west-2: ami-08dcc6990d39afe94
