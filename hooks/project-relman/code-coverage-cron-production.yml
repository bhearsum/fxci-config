---
created: {$fromNow: 0 seconds}
deadline: {$fromNow: 4 hours}
expires: {$fromNow: 1 month}
provisionerId: code-coverage
workerType: bot
metadata:
  description: ''
  name: Code Coverage aggregation task - cron (production)
  owner: release-mgmt-analysis@mozilla.com
  source: https://github.com/mozilla/code-coverage
payload:
  artifacts:
    public/chunk_mapping.tar.xz:
      path: "/chunk_mapping.tar.xz"
      type: file
    public/per_chunk_mapping.tar.xz:
      path: "/per_chunk_mapping.tar.xz"
      type: file
    public/zero_coverage_report.json:
      path: "/zero_coverage_report.json"
      type: file
    public/commit_coverage.json.zst:
      path: "/commit_coverage.json.zst"
      type: file
    public/triggered_revisions.zst:
      path: "/triggered_revisions.zst"
      type: file
  cache:
    code-coverage-bot-production: "/cache"
  capabilities: {}
  command:
  - code-coverage-cron
  - "--taskcluster-secret"
  - project/relman/code-coverage/runtime-production
  - "--cache-root"
  - "/cache"
  - "--working-dir"
  - "/build"
  env: {}
  features:
    taskclusterProxy: true
  image:
    type: indexed-image
    namespace: code-analysis.v2.code-coverage.branch.production
    path: public/code-coverage-bot.tar
  maxRunTime: 14400
priority: lowest
retries: 5
schedulerId: relman
scopes:
- secrets:get:project/relman/code-coverage/runtime-production
- docker-worker:cache:code-coverage-bot-production
- index:insert-task:project.releng.services.project.production.code_coverage_bot.*
- index:insert-task:project.relman.code-coverage.production.cron.*
